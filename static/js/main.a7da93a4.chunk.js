(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__WcTwT",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__370hM"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2ugaX",Modal:"Modal_Modal__3xa_6"}},23:function(e,t,a){},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1RPL_"}},25:function(e,t,a){e.exports={Button:"Button_Button__kwwN7"}},28:function(e,t,a){e.exports={Loader:"Loader_Loader__3mgBt"}},34:function(e,t,a){},35:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2_x75",SearchForm:"Searchbar_SearchForm__2vFjo",SearchFormButton:"Searchbar_SearchFormButton__2jFb9",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__VbgU_",SearchFormInput:"Searchbar_SearchFormInput__2LRaY"}},75:function(e,t,a){"use strict";a.r(t);var r=a(1),o=a.n(r),n=a(21),c=a.n(n),s=(a(33),a(34),a(22)),i=a(12),l=a(5),u=a(6),m=a(8),d=a(7),h=(a(35),a(23)),g=a.n(h),p=a(0),b=function(e){var t=e.children;return Object(p.jsx)("div",{className:g.a.container,children:t})},j=a(4),y=a.n(j),f=function(e){var t=e.onSetQuery,a=e.searchQuery,r=e.onSubmit;return Object(p.jsx)("header",{className:y.a.Searchbar,children:Object(p.jsxs)("form",{onSubmit:r,className:y.a.SearchForm,children:[Object(p.jsx)("button",{type:"submit",className:y.a.SearchFormButton,children:Object(p.jsx)("span",{className:y.a.SearchFormButtonLabel,children:"Search"})}),Object(p.jsx)("input",{className:y.a.SearchFormInput,onInput:t,name:"searchQuery",value:a,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},S=a(24),O=a.n(S),_=a(10),v=a.n(_),x=Object(r.createContext)(),I=function(){return Object(p.jsx)(x.Consumer,{children:function(e){var t=e.images,a=e.onOpenModal;return t.map((function(e){var t=e.id,r=e.webformatURL,o=e.tags,n=e.largeImageURL;return Object(p.jsx)("li",{onClick:a,className:v.a.ImageGalleryItem,children:Object(p.jsx)("img",{src:r,alt:o,"data-source":n,className:v.a.ImageGalleryItemImage})},t)}))}})},L=function(){return Object(p.jsx)("ul",{className:O.a.ImageGallery,id:"imagesList",children:Object(p.jsx)(I,{})})},w=a(25),M=a.n(w),F=function(e){var t=e.onLoadMore;return Object(p.jsx)("button",{onClick:t,className:M.a.Button,type:"button",children:"Load more"})},N=a(11),k=a.n(N),C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))).onKeyDown=function(t){"Escape"===t.key&&e.props.onCloseModal(t)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return Object(p.jsx)("div",{onClick:this.props.onCloseModal,className:k.a.Overlay,children:Object(p.jsx)("div",{className:k.a.Modal,children:Object(p.jsx)("img",{src:this.props.modalImg,alt:this.props.modalAlt})})})}}]),a}(r.Component),B=a(26),G=a.n(B),Q=function(e,t){var a=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:12,key:"21195458-19b2d8fc62244b43de198b4d0"});return G.a.get("".concat("https://pixabay.com/api/","?").concat(a))},A=a(27),P=a.n(A),D=a(28),R=a.n(D),U=function(){return Object(p.jsx)("div",{className:R.a.Loader,children:Object(p.jsx)(P.a,{type:"Audio",color:"#00BFFF",height:150,width:150})})},E=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))).state={images:e.props.images,currentPage:e.props.currentPage,searchQuery:e.props.searchQuery,isLoading:e.props.isLoading,error:e.props.error,showModal:e.props.showModal,modalImg:e.props.modalImg,modalAlt:e.props.modalAlt,onOpenModal:function(t){e.setState({modalImg:t.target.dataset.source,showModal:!0,modalAlt:t.target.attributes.alt.textContent}),document.body.classList.add("is-open")}},e.onSubmit=function(t){t.preventDefault();var a=e.state.searchQuery;e.setState({isLoading:!0}),Q(a,1).then((function(t){return e.setState({images:t.data.hits})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e.onLoadMore=function(){var t=e.state,a=t.searchQuery,r=t.currentPage;e.setState({isLoading:!0}),Q(a,r+1).then((function(t){return e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t.data.hits)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoading:!1}),window.scrollTo({top:document.querySelector("#imagesList").scrollHeight,behavior:"smooth"})}))},e.onCloseModal=function(t){"IMG"!==t.target.nodeName&&e.setState({showModal:!1,modalImg:"",modalAlt:""}),document.body.classList.remove("is-open")},e.onSetQuery=function(t){e.setState(Object(s.a)({},t.target.name,t.target.value))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.searchQuery,a=e.images,r=e.isLoading,o=e.showModal,n=e.modalImg,c=e.modalAlt;return Object(p.jsx)(x.Provider,{value:this.state,children:Object(p.jsxs)(b,{children:[Object(p.jsx)(f,{onSubmit:this.onSubmit,onSetQuery:this.onSetQuery,searchQuery:t}),Object(p.jsx)(L,{}),r&&Object(p.jsx)(U,{}),a.length>11&&Object(p.jsx)(F,{onLoadMore:this.onLoadMore}),o&&Object(p.jsx)(C,{onCloseModal:this.onCloseModal,modalImg:n,modalAlt:c})]})})}}]),a}(r.Component);E.defaultProps={images:[],currentPage:1,searchQuery:"",isLoading:!1,error:null,showModal:!1,modalImg:"",modalAlt:""};var K=E;c.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(K,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.a7da93a4.chunk.js.map